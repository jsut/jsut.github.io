<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Prebid.js and Intersection Observer.  Lazy loading ads, without an ad server</title>

<script async src="/js/prebid.js"></script>
<script async src="/js/lazy.js"></script>

<style>
body {
  background-color: white;
  margin: 0;
  padding: 0;
}
.fill {
  height: 400px;
}
.ad {
  background-color: #ccc;
  height: 90px;
}
</style>
</head>
<body>
<h1>Prebid.js Intersection Observer Lazy Loading</h1>
<div class="fill">
<p>When the dom loads, a couple of IntersectionObserver are created, and the DOM is searched for elements with the class 'ad'. an IntersectionObserver is
added to the div's found, which will start auctions with prebid.js if an ad is intersecting, or near intersecting the viewport. Another IntersectionObserver
is used to fire some code when the ad comes fully into view. When the ad is rendered, a click handler is injected into the safe frame which allows us
to run javascript if and when the ad is clicked.</p>
</div>
<div id="one" class="ad" width="728" height="90"></div>
<div class="fill"></div>
<div id="two" class="ad" width="728" height="90"></div>
<div class="fill"></div>
<div id="three" class="ad" width="728" height="90"></div>
<div class="fill"></div>
<div id="four" class="ad" width="728" height="90"></div>
</body>
</html>
